{"ast":null,"code":"import _classCallCheck from \"c:\\\\Users\\\\Phuong\\\\Desktop\\\\HH\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"c:\\\\Users\\\\Phuong\\\\Desktop\\\\HH\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"c:\\\\Users\\\\Phuong\\\\Desktop\\\\HH\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"c:\\\\Users\\\\Phuong\\\\Desktop\\\\HH\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"c:\\\\Users\\\\Phuong\\\\Desktop\\\\HH\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"c:\\\\Users\\\\Phuong\\\\Desktop\\\\HH\\\\src\\\\component\\\\Dangnhap.js\";\nimport React, { Component } from 'react';\nimport { BrowserRouter as Router, Route, Link, NavLink, Redirect } from 'react-router-dom';\nimport { firebaseData } from '../firebaseConnect.js';\nimport swal from 'sweetalert';\nimport { log } from 'util';\nimport { exists } from 'fs';\nimport TrangChuForm from './TrangChuForm.js';\nimport TrangChu from './Trangchu.js';\n\nvar Dangnhap =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Dangnhap, _Component);\n\n  function Dangnhap(props) {\n    var _this;\n\n    _classCallCheck(this, Dangnhap);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Dangnhap).call(this, props));\n\n    _this.isChange = function (event) {\n      var name = event.target.name;\n      var value = event.target.value;\n      console.log(name);\n      console.log(value);\n\n      _this.setState({\n        id: value\n      });\n    };\n\n    _this.isChangep = function (event) {\n      //    var name=event.target.name;\n      var value = event.target.value; //  console.log(name);\n      //  console.log(value);   \n\n      _this.setState({\n        pass: value\n      });\n    };\n\n    _this.checkLogin = function () {\n      var f = 0;\n      firebaseData.ref('admin').on('value', function (admins) {\n        var arrayData = [];\n        admins.forEach(function (element) {\n          var key = element.key;\n          var id = element.val().id;\n          var pass = element.val().pass;\n          var role = element.val().role;\n\n          if (_this.state.id == id && _this.state.pass == pass) {\n            window.location = \"/trangchu\";\n            localStorage.setItem('User', _this.state.id);\n            localStorage.setItem('role', role);\n            localStorage.setItem('role', role);\n            f = 1;\n          }\n\n          arrayData.push({\n            key: key,\n            id: id,\n            pass: pass\n          });\n        });\n      });\n      if (f == 0) swal(\"Oops...\", \"ID HOAC \", \"error\");\n    };\n\n    _this.state = {\n      dataFromFirseBase: [],\n      id: '',\n      pass: ''\n    };\n    return _this;\n  }\n\n  _createClass(Dangnhap, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this2 = this;\n\n      // thuc hien troc khi render        \n      firebaseData.ref('admin').on('value', function (admins) {\n        var arrayData = [];\n        admins.forEach(function (element) {\n          var key = element.key;\n          var id = element.val().id;\n          var pass = element.val().pass;\n          arrayData.push({\n            key: key,\n            id: id,\n            pass: pass\n          });\n        });\n\n        _this2.setState({\n          dataFromFirseBase: arrayData\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var a = localStorage.getItem('User');\n      if (a == null) return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        className: \"display-4\",\n        style: {\n          textAlign: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, \"Trang \\u0110\\u0103ng Nh\\u1EADp\")), React.createElement(\"div\", {\n        className: \"w3-display-container w3-green\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-sm-4 push-sm-3\",\n        style: {\n          margin: 'auto'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, \"ID\"), React.createElement(\"input\", {\n        onChange: function onChange(event) {\n          return _this3.isChange(event);\n        },\n        className: \"form-control\",\n        name: \"id\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, \"Pass\"), React.createElement(\"input\", {\n        type: \"password\",\n        onChange: function onChange(event) {\n          return _this3.isChangep(event);\n        },\n        className: \"form-control\",\n        name: \"pass\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        onClick: function onClick() {\n          return _this3.checkLogin();\n        },\n        className: \"btn btn-primary float-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, \"Login\")))));else {\n        window.location = \"/trangchu\";\n      }\n    }\n  }]);\n\n  return Dangnhap;\n}(Component);\n\nexport default Dangnhap;","map":{"version":3,"sources":["c:\\Users\\Phuong\\Desktop\\HH\\src\\component\\Dangnhap.js"],"names":["React","Component","BrowserRouter","Router","Route","Link","NavLink","Redirect","firebaseData","swal","log","exists","TrangChuForm","TrangChu","Dangnhap","props","isChange","event","name","target","value","console","setState","id","isChangep","pass","checkLogin","f","ref","on","admins","arrayData","forEach","element","key","val","role","state","window","location","localStorage","setItem","push","dataFromFirseBase","a","getItem","textAlign","margin"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport {BrowserRouter as Router, Route, Link,NavLink,Redirect} from 'react-router-dom';\r\nimport {firebaseData} from '../firebaseConnect.js'\r\nimport swal from 'sweetalert';\r\nimport { log } from 'util';\r\nimport { exists } from 'fs';\r\nimport TrangChuForm from './TrangChuForm.js';\r\nimport TrangChu from './Trangchu.js'\r\nclass Dangnhap extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state={\r\n            dataFromFirseBase:[],\r\n            id: '',\r\n          pass: ''\r\n        }\r\n        \r\n\r\n    }\r\n\r\n    isChange=(event)=>{\r\n       var name=event.target.name;\r\n       var value = event.target.value;\r\n     \r\n        console.log(name);\r\n        console.log(value);   \r\n        this.setState({\r\n                id:value\r\n\r\n        }) \r\n    \r\n    }\r\n        isChangep=(event)=>{\r\n        //    var name=event.target.name;\r\n            var value = event.target.value;\r\n          \r\n           //  console.log(name);\r\n           //  console.log(value);   \r\n             this.setState({\r\n                     pass:value\r\n     \r\n             }) \r\n            }\r\n        \r\n   componentWillMount() { // thuc hien troc khi render        \r\n    firebaseData.ref('admin').on('value',(admins )=>{\r\n        var arrayData= [];\r\n        admins.forEach(element => {\r\n            const key=element.key;\r\n            const id=element.val().id;\r\n            const pass=element.val().pass;\r\n            arrayData.push({\r\n                key:key,\r\n                id:id,\r\n                pass:pass\r\n            })  \r\n            });\r\n            this.setState({\r\n                dataFromFirseBase:arrayData               \r\n        });            \r\n    })\r\n    }\r\n    \r\n    checkLogin=()=>{\r\n        var f=0;\r\n        firebaseData.ref('admin').on('value',(admins )=>{\r\n            var arrayData= [];\r\n            admins.forEach(element => {\r\n                const key=element.key;\r\n                const id=element.val().id;\r\n                const pass=element.val().pass;\r\n                const role=element.val().role;\r\n\r\n                if(this.state.id==id && this.state.pass==pass){ \r\n                    \r\n                    window.location=\"/trangchu\";\r\n                    localStorage.setItem('User', this.state.id);\r\n                    localStorage.setItem('role',role);\r\n                    localStorage.setItem('role',role);\r\n\r\n                    f=1;\r\n                }\r\n                \r\n                arrayData.push({\r\n                    key:key,\r\n                    id:id,\r\n                    pass:pass\r\n                })  \r\n                });\r\n            \r\n\r\n                  \r\n                        \r\n        })\r\n        if(f==0) swal(\"Oops...\", \"ID HOAC \", \"error\");\r\n      \r\n       \r\n    \r\n    }\r\n\r\n    render() {\r\n        var a=localStorage.getItem('User');\r\n        if(a==null)\r\n        return (\r\n            <div>\r\n                <div>\r\n                    <h2 className=\"display-4\" style={{ textAlign: 'center' }}>Trang Đăng Nhập</h2>\r\n                </div>\r\n            \r\n             \r\n                <div className=\"w3-display-container w3-green\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-sm-4 push-sm-3\" style={{ margin: 'auto' }}>\r\n                            <label>ID</label>\r\n                            <input  onChange={(event)=>this.isChange(event)} className=\"form-control\"  name=\"id\"/>\r\n                            <label>Pass</label>\r\n                            <input type=\"password\" onChange={(event)=>this.isChangep(event)} className=\"form-control\" name=\"pass\" /><br></br>\r\n                                                   \r\n                            <button onClick={()=>this.checkLogin()}   className=\"btn btn-primary float-right\">Login</button>\r\n                            \r\n                        </div>\r\n                        \r\n                    </div>  \r\n                </div>\r\n            \r\n            \r\n            </div>\r\n\r\n        );\r\n        else\r\n        {\r\n            window.location=\"/trangchu\";\r\n        }\r\n    }\r\n}\r\n\r\nexport default Dangnhap;\r\n"]},"metadata":{},"sourceType":"module"}