{"ast":null,"code":"import _classCallCheck from \"c:\\\\Users\\\\Phuong\\\\Desktop\\\\HH\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"c:\\\\Users\\\\Phuong\\\\Desktop\\\\HH\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"c:\\\\Users\\\\Phuong\\\\Desktop\\\\HH\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"c:\\\\Users\\\\Phuong\\\\Desktop\\\\HH\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"c:\\\\Users\\\\Phuong\\\\Desktop\\\\HH\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"c:\\\\Users\\\\Phuong\\\\Desktop\\\\HH\\\\src\\\\component\\\\Sinhvien.js\";\nimport React, { Component } from 'react';\nimport TableRowSinhVien from './TableRowSinhVien.js';\nimport Navbar from './Navbar';\nimport { firebaseData } from '../firebaseConnect.js';\nimport EditSV from './EditSV.js';\nimport AddSV from './AddSV.js';\nimport Search from './Search.js';\nimport TableData from './TableData.js';\nimport GiayTo from './GiayTo.js';\nimport Pagination from \"react-js-pagination\";\nimport { BrowserRouter as Router, Route, Link, NavLink } from 'react-router-dom';\nimport Dangnhap from './Dangnhap.js';\nimport Filter from './Filter.js';\n\nvar Sinhvien =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Sinhvien, _Component);\n\n  function Sinhvien(props) {\n    var _this;\n\n    _classCallCheck(this, Sinhvien);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Sinhvien).call(this, props));\n\n    _this.changetrangthai = function () {\n      _this.setState({\n        trangthai: !_this.state.trangthai\n      });\n    };\n\n    _this.editUser = function (user) {\n      //lay du lieu tu bang do ra form edit\n      _this.setState({\n        userObject: user\n      });\n\n      console.log(\"edituser \" + user);\n    };\n\n    _this.removeUser = function (user) {\n      //console.log(user);\n      firebaseData.ref('sinhvien').child(user.key).remove();\n\n      _this.setState({\n        userObject: user\n      });\n    };\n\n    _this.hienthiformsua = function () {\n      if (_this.state.trangthai == true) {\n        return React.createElement(EditSV, {\n          object: _this.state.userObject,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77\n          },\n          __self: this\n        });\n      }\n    };\n\n    _this.getNewUserData = function (masv, hoten, diem, cmnd) {\n      //nhan du lieu de push vao firebase\n      // console.log(\"du lieu nhan dc \" +name);\n      // console.log(tel);\n      // console.log(Permission);    \n      var item = {};\n      item.masv = '';\n      item.diem = '';\n      item.hoten = '';\n      item.cmnd = '';\n      item.checkboxDH = false;\n      item.checkboxC3 = false;\n      item.checkboxC2 = false;\n      item.checkboxC1 = false;\n      item.checkboxHP = false;\n      item.checkboxBH = false;\n      item.checkboxPK = false; // item.checkboxPP = false;\n\n      item.masv = masv;\n      item.hoten = hoten;\n      item.diem = diem;\n      item.cmnd = cmnd;\n      var items = []; //items.push(item);\n\n      firebaseData.ref('sinhvien').push(item);\n      console.log(items);\n    };\n\n    _this.getTextfromSearch = function (dl) {\n      //get du lieu tu searchText\n      _this.setState({\n        searchText: dl\n      });\n\n      console.log(\"du lieu nhan dc la: \" + dl);\n    };\n\n    _this.getTextfromFilter = function (dl2) {\n      //get du lieu tu searchText\n      _this.setState({\n        filterText: dl2\n      });\n\n      console.log(\"du lieu nhan dc la: \" + dl2);\n    };\n\n    _this.state = {\n      dataFromFirseBase: [],\n      trangthai: false,\n      userObject: {},\n      ketqua1: [],\n      searchText: '',\n      filterText: ''\n    };\n    return _this;\n  }\n\n  _createClass(Sinhvien, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this2 = this;\n\n      // thuc hien truoc khi render  lay data tu firebase     \n      firebaseData.ref('sinhvien').on('value', function (admins) {\n        var arrayData = [];\n        admins.forEach(function (element) {\n          console.log(element.key);\n          var key = element.key;\n          var masv = element.val().masv;\n          var hoten = element.val().hoten;\n          var diem = element.val().diem;\n          var cmnd = element.val().cmnd;\n          var checkboxDH = element.val().checkboxDH;\n          arrayData.push({\n            key: key,\n            masv: masv,\n            hoten: hoten,\n            diem: diem,\n            cmnd: cmnd,\n            checkboxDH: checkboxDH\n          });\n        });\n\n        _this2.setState({\n          dataFromFirseBase: arrayData\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var ketqua = [];\n      var ketqua2 = [];\n      var temp = this.state.dataFromFirseBase;\n      temp.forEach(function (item) {\n        if (item.hoten.indexOf(_this3.state.searchText) != -1) {\n          ketqua2.push(item);\n        }\n\n        console.log(\"search \" + ketqua + \"11212\");\n      });\n      ketqua2.forEach(function (item) {\n        if (item.checkboxDH === true) {\n          ketqua.push(item);\n        }\n\n        console.log(\"search \" + ketqua + \"11212\");\n      });\n      if (localStorage.getItem(\"User\") != null) return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, React.createElement(Navbar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, React.createElement(Search, {\n        search: function search(dl) {\n          return _this3.getTextfromSearch(dl);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }), React.createElement(Filter, {\n        filter: function filter(dl2) {\n          return _this3.getTextfromFilter(dl2);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }), React.createElement(TableData, {\n        datafirebase: ketqua,\n        editFun: function editFun(user) {\n          return _this3.editUser(user);\n        },\n        changeEditUserStatu: function changeEditUserStatu() {\n          return _this3.changetrangthai();\n        },\n        removeFunClick: function removeFunClick(user) {\n          return _this3.removeUser(user);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }), React.createElement(AddSV, {\n        className: \"float right\",\n        add: function add(masv, hoten, diem, cmnd) {\n          return _this3.getNewUserData(masv, hoten, diem, cmnd);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, this.hienthiformsua()), React.createElement(\"ul\", {\n        className: \"pagination\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        className: \"page-item active\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/sinhvien/1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"page-link\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, \"1\"))), React.createElement(\"li\", {\n        className: \"page-item \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/sinhvien/2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"page-link\",\n        href: \"#\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, \"2 \"))), React.createElement(\"li\", {\n        className: \"page-item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/sinhvien/3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"page-link\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, \"3\")))))));else return React.createElement(Dangnhap, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return Sinhvien;\n}(Component);\n\nexport default Sinhvien;","map":{"version":3,"sources":["c:\\Users\\Phuong\\Desktop\\HH\\src\\component\\Sinhvien.js"],"names":["React","Component","TableRowSinhVien","Navbar","firebaseData","EditSV","AddSV","Search","TableData","GiayTo","Pagination","BrowserRouter","Router","Route","Link","NavLink","Dangnhap","Filter","Sinhvien","props","changetrangthai","setState","trangthai","state","editUser","user","userObject","console","log","removeUser","ref","child","key","remove","hienthiformsua","getNewUserData","masv","hoten","diem","cmnd","item","checkboxDH","checkboxC3","checkboxC2","checkboxC1","checkboxHP","checkboxBH","checkboxPK","items","push","getTextfromSearch","dl","searchText","getTextfromFilter","dl2","filterText","dataFromFirseBase","ketqua1","on","admins","arrayData","forEach","element","val","ketqua","ketqua2","temp","indexOf","localStorage","getItem"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport TableRowSinhVien from './TableRowSinhVien.js'\r\nimport Navbar from './Navbar'\r\nimport { firebaseData } from '../firebaseConnect.js'\r\nimport EditSV from './EditSV.js';\r\nimport AddSV from './AddSV.js';\r\nimport Search from './Search.js';\r\nimport TableData from './TableData.js';\r\nimport GiayTo from './GiayTo.js';\r\nimport Pagination from \"react-js-pagination\";\r\nimport {BrowserRouter as Router, Route, Link,NavLink} from 'react-router-dom';\r\nimport Dangnhap from './Dangnhap.js'\r\nimport Filter from './Filter.js'\r\nclass Sinhvien extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      dataFromFirseBase: [],\r\n      trangthai: false,\r\n      userObject: {},\r\n      ketqua1: [],\r\n      searchText: '',\r\n      filterText:''\r\n      \r\n    }\r\n  }\r\n  componentWillMount() { // thuc hien truoc khi render  lay data tu firebase     \r\n    firebaseData.ref('sinhvien').on('value', (admins) => {\r\n      var arrayData = [];\r\n      admins.forEach(element => {\r\n        console.log(element.key);\r\n        const key = element.key;\r\n        const masv = element.val().masv;\r\n        const hoten = element.val().hoten;\r\n        const diem = element.val().diem;\r\n        const cmnd = element.val().cmnd;\r\n        const checkboxDH = element.val().checkboxDH;\r\n        arrayData.push({\r\n          key: key,\r\n          masv: masv,\r\n          hoten: hoten,\r\n          diem: diem,\r\n          cmnd: cmnd,\r\n          checkboxDH:checkboxDH\r\n        })\r\n      });\r\n\r\n      this.setState({\r\n        dataFromFirseBase: arrayData\r\n      });\r\n    })\r\n  }\r\n  changetrangthai = () => {\r\n    this.setState({\r\n      trangthai: !this.state.trangthai\r\n    })\r\n  }\r\n  editUser = (user) => {   //lay du lieu tu bang do ra form edit\r\n    this.setState({\r\n      userObject: user\r\n    });\r\n    console.log(\"edituser \" + user);\r\n\r\n  }\r\n\r\n  removeUser = (user) => {\r\n    //console.log(user);\r\n    firebaseData.ref('sinhvien').child(user.key).remove();\r\n    this.setState({\r\n      userObject: user\r\n    });\r\n\r\n  }\r\n  hienthiformsua = () => {\r\n    if (this.state.trangthai == true) {\r\n      return (\r\n        <EditSV object={this.state.userObject}></EditSV>\r\n      )\r\n    }\r\n  }\r\n  getNewUserData = (masv, hoten, diem, cmnd) => { //nhan du lieu de push vao firebase\r\n    // console.log(\"du lieu nhan dc \" +name);\r\n    // console.log(tel);\r\n    // console.log(Permission);    \r\n    var item = {};\r\n    item.masv = '';\r\n    item.diem = '';\r\n    item.hoten = '';\r\n    item.cmnd = '';\r\n    item.checkboxDH = false;\r\n    item.checkboxC3 = false;\r\n    item.checkboxC2 =false;\r\n    item.checkboxC1 = false;\r\n    item.checkboxHP = false;\r\n    item.checkboxBH = false;\r\n    item.checkboxPK =false;\r\n    // item.checkboxPP = false;\r\n    item.masv = masv;\r\n    item.hoten = hoten;\r\n    item.diem = diem;\r\n    item.cmnd = cmnd;\r\n    var items = [];\r\n    //items.push(item);\r\n\r\n    firebaseData.ref('sinhvien').push(item);\r\n    console.log(items);\r\n  }\r\n  getTextfromSearch = (dl) => { //get du lieu tu searchText\r\n    this.setState({\r\n      searchText: dl\r\n    });\r\n\r\n    console.log(\"du lieu nhan dc la: \" + dl);\r\n\r\n  }\r\n  getTextfromFilter = (dl2) => { //get du lieu tu searchText\r\n    this.setState({\r\n      filterText: dl2\r\n    });\r\n\r\n    console.log(\"du lieu nhan dc la: \" + dl2);\r\n\r\n  }\r\n  render() {\r\n    var ketqua = [];\r\n    var ketqua2=[];\r\n    const temp = this.state.dataFromFirseBase;\r\n    temp.forEach((item) => {\r\n      if (item.hoten.indexOf(this.state.searchText) != -1) {\r\n        ketqua2.push(item);\r\n      }\r\n      console.log(\"search \" + ketqua+\"11212\");\r\n\r\n    });\r\n    ketqua2.forEach((item) => {\r\n      if (item.checkboxDH ===   true) {\r\n        ketqua.push(item);\r\n      }\r\n      console.log(\"search \" + ketqua+\"11212\");\r\n    });\r\n    if(localStorage.getItem(\"User\")!=null)\r\n    return (\r\n      <div>\r\n        <Navbar></Navbar>\r\n\r\n        <div className=\"container\">\r\n          <div className=\"row\">\r\n\r\n            <div className=\"col-9\">\r\n              <Search search={(dl) => this.getTextfromSearch(dl)}>\r\n             \r\n              </Search>\r\n              <Filter   filter={(dl2) => this.getTextfromFilter(dl2)}>\r\n                \r\n                </Filter> \r\n               <TableData datafirebase={ketqua}\r\n                editFun={(user) => this.editUser(user)}\r\n                changeEditUserStatu={() => this.changetrangthai()}\r\n                removeFunClick={(user) => this.removeUser(user)}\r\n              ></TableData>\r\n\r\n\r\n\r\n              <AddSV className=\"float right\" add={(masv, hoten, diem, cmnd) => this.getNewUserData(masv, hoten, diem, cmnd)}  ></AddSV>\r\n            </div>\r\n            <div className=\"col-3\">\r\n              {this.hienthiformsua()}\r\n           \r\n            </div>\r\n          \r\n            <ul className=\"pagination\">\r\n              <li className=\"page-item active\"><Link to=\"/sinhvien/1\" ><div className=\"page-link\" >1</div></Link></li>\r\n              <li className=\"page-item \">\r\n                <Link to=\"/sinhvien/2\" ><div className=\"page-link\" href=\"#\">2 </div></Link>\r\n              </li>\r\n              <li className=\"page-item\"><Link to=\"/sinhvien/3\" ><div className=\"page-link\" >3</div></Link></li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n    \r\n      </div>\r\n\r\n\r\n    );\r\n      else return(<Dangnhap />);\r\n  }\r\n}\r\n\r\nexport default Sinhvien;"]},"metadata":{},"sourceType":"module"}